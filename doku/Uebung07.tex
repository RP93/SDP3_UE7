\documentclass[12pt,a4paper]{article}
\usepackage[utf8]{inputenc}
\usepackage{amsmath}
\usepackage{textcomp}

\usepackage{geometry}
\geometry{a4paper,left=25mm,right=25mm, top=2cm, bottom=2cm} 

\usepackage{verbatim}

 \usepackage{mathptmx}
 \usepackage[scaled=.90]{helvet}
 \usepackage{courier}

\usepackage[utf8]{inputenc}

\usepackage{listings}
\usepackage{color}

\usepackage{graphicx}
 
\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{mauve}{rgb}{0.58,0,0.82}

\pagestyle{empty}
\lstset{numbers=left,language=C++}
\lstset{showstringspaces=false,
basicstyle=\ttfamily\footnotesize,
breaklines=true,
tabsize=3,
commentstyle=\color{dkgreen},       % comment style
}

%keine einrückungen bei absatz
\parindent 0pt

\begin{document}
\title{Übung 7}
\author{Bernhard Selymes, Reinhard Penn}
\date{Jänner 2012}

\normalsize

%Pfad zu c++ Dateien
\newcommand{\CodePath}{../CarRental/CarRental/}

%Beginn des Dokuments
\section{Organisatorisches}

\subsection{Team}
	\begin {itemize} 
		\item Reinhard Penn, s1110306019 
		\item Bernhard Selymes, s1110306024
	\end {itemize}

\subsection{Aufteilung}
	\begin {itemize} 
		\item Reinhard Penn
			\begin {itemize}
				\item Planung
				\item Klassendiagramm
				\item Implementierung der Klassen CarRental, ConcreteCar und Unterklassen
				\item Testen aller Klassen
			\end {itemize}
		\item Bernhard Selymes
			\begin {itemize}
				\item Planung
				\item Klassendiagramm
				\item Implementierung der Klassen ICar, Decorator und Unterklassen
				\item Dokumentation		
			\end {itemize}
	\end {itemize}


\subsection{Zeitaufwand}
	\begin {itemize}
		\item geschätzte Mh: 12
		\item tatsächlich: Reinhard (5h), Bernhard  (6h)
	\end {itemize}


\section{Systemspezifikation}
Eine Sofware für die Verwaltung von Kraftfahrzeuge in einer Autovermietung soll entworfen werden. Die Kraftfahrzeuge gehören zu einer Klasse, die den Preis des Fahrzeugs bestimmt. Ein Kraftfahrzeug kann zusätzlich Sonderausstattungen haben, die zusätzlich etwas kosten.
\\


\newpage
\section {Systementwurf}

\subsection {Klassendiagramm}

%\includegraphics[angle=90,scale=0.5] {../Klassendiagramm.png}

\newpage
\subsection {Komponentenübersicht}
\begin {itemize} 
	\item Klasse "Object":
	\newline
	Basis aller Basisklassen.
	
	\item Interface "ICar":
	\newline
	Schnittstellen der Funktionen.

	\item Klasse "ConcreteCar":
	\newline
	Basisklasse für die einzelnen konkreten Kraftfahrzeuge.

	\item Klassen "SmallCar, MiddleRangeCar, PremiumCar und SUV":
	\newline
	Konkrete Klassen von Kraftfahrzeugen.

	\item Klasse "Decorator":
	\newline
	Basisklasse für die konkreten Sonderausstattungen.
	
	\item Klassen "AirConditioner, Navi, Speedometer und Xenon":
	\newline
	Konkrete Sonderausstattungen.

	\item Klasse "CarRental":
	\newline
	Verwaltet die Kraftfahrzeuge.
			
\end {itemize}

\newpage
\section {Komponentenentwurf}
\subsection {Klasse "Object"}
Abstrakte Basisklasse aller Klassen. Von ihr werden alle anderen Klassen abgeleitet. Beinhaltet einen virtuellen Destruktor.

\subsection {Interface "ICar"}
Definiert die Schnittstellen der Methoden. Hat einen virtuellen Destruktor.
\\

\subsection {Klasse "ConcreteCar"}
Basisklasse für die konkreten Kraftfahrzeuge. Hat protected Member die den Hersteller, den Preis und den Typ speichern. Hat drei Get-Methoden für diese member. Hat eine abstrakte Methode "Print" die in den Unterklassen implementiert wird.
\\

\subsection {Klassen "SmallCar, MiddleRangeCar, PremiumCar und SUV"}
Konkrete Klassen von Kraftfahrzeugen.
\\

\textbf {Methode "Print": } 
\newline
Schnittstelle:
\newline
Parameter: ostream\&
\newline
Rückgabetyp: void
\newline
Wird je nach Klassen entsprechend implementiert. Gibt aus um welche Klasse es sich handelt und danach die entsprechenden Daten des Fahrzeugs.
\\

\subsection {Klasse "Decorator"}
Hat einen Member der den Preis speichert und einen der einen Pointer auf das Objekt, das er dekoriert, speichert. Die Funktion "Print" ist abstrakt. Hat drei Get-Methoden.
\\

\textbf {Methode "Accept": } 
\newline
Schnittstelle: 
\newline
Parameter: Visitor*
\newline
Rückgabetyp: void
\newline
Ruft die Funktion Visit vom übergebenen Visitor mit sich selbst auf.
\\

\textbf {Methode "ForwardVisitor": } 
\newline
Schnittstelle:
\newline
Parameter: Visitor*
\newline
Rückgabetyp: void
\newline
Ruft für alle Lieder die Funktion "Accept" mit dem Visitor auf.
\\

\textbf {Methode "GetTime": } 
\newline
Schnittstelle:
\newline
Rückgabetyp: void
\newline
Ruft für alle Lieder die Methode "Accept" mit dem Visitor auf.
\\

\textbf {Methode "AddMusic": } 
\newline
Schnittstelle:
\newline
Parameter: MusicComponent*
\newline
Rückgabetyp: void
\newline
Fügt ein Lied (und nur ein Lied) zur Liste hinzu.
\\

\subsection {Klasse "MusicCollection"}
Hat eine Liste die alle Musikmedien, die in der Kollektion enthalten sind.
\\

\textbf {Methode "Accept": } 
\newline
Schnittstelle: 
\newline
Parameter: Visitor*
\newline
Rückgabetyp: void
\newline
Ruft die Funktion Visit vom übergebenen Visitor mit sich selbst auf.
\\

\textbf {Methode "ForwardVisitor": } 
\newline
Schnittstelle:
\newline
Rückgabetyp: void
\newline
Ruft für alle Musikmedien die Methode "Accept" mit dem Visitor auf.
\\

\textbf {Methode "GetNumberOfEntries": } 
\newline
Schnittstelle:
\newline
Rückgabetyp: size\_t
\newline
Ruft für alle Musikmedien die Funktion "GetNumberOfEntries" auf und addiert sie.
\\

\subsection {Interface "Visitor"}
Definiert die Schnittstellen der Methoden.
\\

\textbf {Methoden "Visit": } 
\newline
Schnittstelle: 
\newline
Parameter: Song* oder Album* oder MusicCollection*
\newline
Rückgabetyp: void
\newline
Pure virtual function.
\\

\subsection {Klasse "TimeVisitor"}
Hat einen Member der die gesamte Dauer speichert.
\\

\textbf {Methode "Visit": } 
\newline
Schnittstelle: 
\newline
Parameter: Song*
\newline
Rückgabetyp: void
\newline
Addiert zum Gesamtdauermember die Dauer vom Lied.
\\

\textbf {Methode "Visit": } 
\newline
Schnittstelle: 
\newline
Parameter: Album*
\newline
Rückgabetyp: void
\newline
Ruft die Funktion "ForwardVisitor" vom Album mit sich selbst (Visitor) auf.
\\

\textbf {Methode "Visit": } 
\newline
Schnittstelle: 
\newline
Parameter: MusicCollection*
\newline
Rückgabetyp: void
\newline
Ruft die Funktion "ForwardVisitor" von der Kollektion mit sich selbst (Visitor) auf.
\\

\subsection {Klasse "SearchVisitor"}
Hat einen Member der den gesuchten Namen speichert und eine Liste die Referenzen zu den gefundenen Objekten speichert.
\\

\textbf {Methode "Visit": } 
\newline
Schnittstelle: 
\newline
Parameter: Song*
\newline
Rückgabetyp: void
\newline
Schaut ob der gesuchte Name Teil des Namens vom Lied ist und speichert in ggf. in der Liste.
\\

\textbf {Methode "Visit": } 
\newline
Schnittstelle: 
\newline
Parameter: Album*
\newline
Rückgabetyp: void
\newline
Ruft die Funktion "ForwardVisitor" vom Album mit sich selbst (Visitor) auf.
\\

\textbf {Methode "Visit": } 
\newline
Schnittstelle: 
\newline
Parameter: MusicCollection*
\newline
Rückgabetyp: void
\newline
Ruft die Funktion "ForwardVisitor" von der Kollektion mit sich selbst (Visitor) auf.
\\

\subsection {Klasse "PlayVisitor"}
Hat einen Zähler der die Nummer der Lieder bestimmt.
\\

\textbf {Methode "Visit": } 
\newline
Schnittstelle: 
\newline
Parameter: Song*
\newline
Rückgabetyp: void
\newline
Gibt die Daten des Liedes formatiert auf der Konsole aus und erhöht den Zähler.
\\

\textbf {Methode "Visit": } 
\newline
Schnittstelle: 
\newline
Parameter: Album*
\newline
Rückgabetyp: void
\newline
Legt einen TimeVisitor an. Dieser wird vom Album accepted. Die Informationen des Albums werden auf der Konsole ausgegeben. Danach wird der Visitor den Elementen im Album weitergegeben.
\\

\textbf {Methode "Visit": } 
\newline
Schnittstelle: 
\newline
Parameter: MusicCollection*
\newline
Rückgabetyp: void
\newline
Legt einen TimeVisitor an. Dieser wird von der Kollektion akkzeptiert. Die Informationen der Kollektion werden auf der Konsole ausgegeben. Danach wird der Visitor den Elementen in der Kollektion weitergegeben.
\\

\subsection {Klasse "MusicPlayer"}
Hat einen Liste mit Musik-Medien.
\\

\textbf {Methode "GetTime": } 
\newline
Schnittstelle: 
\newline
Parameter: MusicComponent* const
\newline
Rückgabetyp: size\_t
\newline
Prüft zuerst ob das Element überhaupt vorhanden ist. Dann wird via eines TimeVisitors die Dauer des Elements ermittelt.
\\

\textbf {Methode "GetTotalTime": } 
\newline
Schnittstelle: 
\newline
Rückgabetyp: size\_t
\newline
Via eines TimeVisitors die Dauer aller Elemente ermittelt.
\\

\textbf {Methode "Play": } 
\newline
Schnittstelle: 
\newline
Rückgabetyp: void
\newline
Via eines PlayVisitors wird die gesamte Abspielliste ausgegeben.
\\

\textbf {Methode "Search": } 
\newline
Schnittstelle: 
\newline
Parameter: string const\&
\newline
Rückgabetyp: void
\newline
Via eines SearchVisitors wird der Name überall gesucht. Der Name der gefundenen Elemente wird danach ausgegeben.
\\

\newpage
\section {Source Code}
%
%\lstinputlisting[language=C++]{\CodePath Object.h}
%\lstinputlisting[language=C++]{\CodePath Object.cpp}
%\newpage
%
%\lstinputlisting[language=C++]{\CodePath TMusicKind.h}
%\newpage
%
%\lstinputlisting[language=C++]{\CodePath MusicFactory.h}
%\newpage
%\lstinputlisting[language=C++]{\CodePath MusicFactory.cpp}
%\newpage
%
%\lstinputlisting[language=C++]{\CodePath MusicComponent.h}
%\newpage
%\lstinputlisting[language=C++]{\CodePath MusicComponent.cpp}
%\newpage
%
%\lstinputlisting[language=C++]{\CodePath Song.h}
%\newpage
%\lstinputlisting[language=C++]{\CodePath Song.cpp}
%\newpage
%
%\lstinputlisting[language=C++]{\CodePath Album.h}
%\newpage
%\lstinputlisting[language=C++]{\CodePath Album.cpp}
%\newpage
%
%\lstinputlisting[language=C++]{\CodePath MusicCollection.h}
%\newpage
%\lstinputlisting[language=C++]{\CodePath MusicCollection.cpp}
%\newpage
%
%\lstinputlisting[language=C++]{\CodePath Visitor.h}
%\newpage
%
%\lstinputlisting[language=C++]{\CodePath TimeVisitor.h}
%\newpage
%\lstinputlisting[language=C++]{\CodePath TimeVisitor.cpp}
%\newpage
%
%\lstinputlisting[language=C++]{\CodePath SearchVisitor.h}
%\newpage
%\lstinputlisting[language=C++]{\CodePath SearchVisitor.cpp}
%\newpage
%
%\lstinputlisting[language=C++]{\CodePath PlayVisitor.h}
%\newpage
%\lstinputlisting[language=C++]{\CodePath PlayVisitor.cpp}
%\newpage
%
%\lstinputlisting[language=C++]{\CodePath MusicPlayer.h}
%\newpage
%\lstinputlisting[language=C++]{\CodePath MusicPlayer.cpp}
%\newpage
%
%\lstinputlisting[language=C++]{\CodePath main.cpp}
%\newpage

\section {Testausgaben} 

\begin {verbatim}
Testcase0: Empty testcase with NULL pointer.
Add: error in MusicPlayer::Add(): no valid pointer
 ...done
GetTime: error in MusicPlayer::GetTime(): no valid pointer
 ...done
GetTotalTime:  ...done
Play:
 ...done
Remove: error in MusicPlayer::Remove(): no valid pointer
 ...done
Search: error in MusicPlayer::Search(): no valid name
 ...done
Delete MusicPlayer:  ...done
Delete MusicFactory:  ...done


Testcase1: Normal testcase with valid objects.
Create Objects:  ...done
Put Albums together:  ...done
Put an album into an album: Error in Album::AddMusic: 
Tried to add a wrong object type to the song list
 ...done
Put Collection together:  ...done
Put a collection into itself: Error in MusicCollection::AddMusic: 
no valid pointer
 ...done
Add stuff to the player:  ...done
GetTime: error in MusicPlayer::GetTime(): component doesnt exist in list
0 seconds ...done
GetTotalTime: 1359 seconds in player ...done
Play:
1. Staring At The Sun << 02:12 << The Offspring
Collection: MyPlayList (3 Song(s))  << 10:51
Album: Americana (2 Song(s))  << 06:08
2. Staring At The Sun << 02:12 << The Offspring
3. Have You Ever << 03:56 << The Offspring
4. Psychosocial << 04:43 << Slipknot
Album: Conspiracy Of One (1 Song(s))  << 03:28
5. Living In Chaos << 03:28 << The Offspring
Album: Americana (2 Song(s))  << 06:08
6. Staring At The Sun << 02:12 << The Offspring
7. Have You Ever << 03:56 << The Offspring
 ...done
Search: found medias: (search for "in")
Staring At The Sun
Staring At The Sun
Living In Chaos
Staring At The Sun
 ...done
Remove:  ...done
Play after remove:
1. Staring At The Sun << 02:12 << The Offspring
Album: Conspiracy Of One (1 Song(s))  << 03:28
2. Living In Chaos << 03:28 << The Offspring
 ...done
Delete MusicPlayer:  ...done
Delete MusicFactory:  ...done
\end {verbatim}


\end{document}